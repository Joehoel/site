@import "tailwindcss";
@import "@nuxt/ui";
@import "@fontsource-variable/albert-sans";

/* Custom theme colors */
@theme {
  --color-accent: hsl(var(--theme-accent));
  --color-accent-2: hsl(var(--theme-accent-2));
  --color-bg-color: hsl(var(--theme-bg));
  --color-link: hsl(var(--theme-link));
  --color-quote: hsl(var(--theme-quote));
  --color-text-color: hsl(var(--theme-text));

  --font-sans: "Albert Sans Variable", ui-sans-serif, system-ui, sans-serif;
}

@layer base {
  :root,
  :root[data-theme="light"],
  html:not(.dark) {
    color-scheme: light;
    --theme-bg: 0deg 0% 98%;
    --theme-link: 172deg 18% 41%;
    --theme-text: 203deg 11% 15%;
    --theme-accent: 351deg 66% 48%;
    --theme-accent-2: 0deg 0% 7%;
    --theme-quote: 351deg 66% 48%;
  }

  :root[data-theme="dark"],
  html.dark {
    color-scheme: dark;
    --theme-bg: 210deg 6% 12%;
    --theme-link: 330deg 49% 67%;
    --theme-text: 220deg 3% 79%;
    --theme-accent: 159deg 64% 45%;
    --theme-accent-2: 0deg 0% 93%;
    --theme-quote: 102deg 100% 86%;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-bg-color text-text-color antialiased;
  }

  /* Inline code styling (not in code blocks) */
  :not(pre) > code {
    font-family:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
      monospace;
    font-size: 0.875em;
    padding: 0.2em 0.4em;
    border-radius: 3px;
    background-color: hsl(var(--theme-text) / 0.1);
  }
}

/* Custom component classes */
@layer components {
  .link {
    @apply underline underline-offset-2;
  }
  .link:hover {
    @apply decoration-link decoration-2;
  }
  .title {
    @apply text-2xl font-semibold text-accent-2;
  }
}

/* Code block styling */
pre {
  font-family:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  font-size: 0.875rem;
  line-height: 1.7142857rem;
  border-radius: 4px;
  padding: 1rem;
  overflow-x: auto;
}

pre code {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  padding: 0;
  border-radius: 0;
  background-color: transparent;
}

/* Shiki dark mode theme switching */
/* Remap default variables to dark values so inline styles using --shiki-default also work */
html.dark .shiki {
  --shiki-default: var(--shiki-dark);
  --shiki-default-bg: var(--shiki-dark-bg);
  --shiki-default-font-style: var(--shiki-dark-font-style);
  --shiki-default-font-weight: var(--shiki-dark-font-weight);
  --shiki-default-text-decoration: var(--shiki-dark-text-decoration);
}
